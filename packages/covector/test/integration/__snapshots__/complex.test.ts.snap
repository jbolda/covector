// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`integration test for complex commands runs build for prod 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "package-one [build]: npm run build",
    ],
    Array [
      "> package-one@2.3.1 build
> npm info tauri@0.8.0 description",
    ],
    Array [
      "Multi-binding collection of libraries and templates for building Tauri apps",
    ],
    Array [
      "package-two [build]: npm run build",
    ],
    Array [
      "> package-two@1.9.0 build
> echo this command is not piped, it is run from scripts for pk2",
    ],
    Array [
      "this command is not piped, it is run from scripts for pk2",
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

> package-one@2.3.1 build
> npm info tauri@0.8.0 description

npm warn Ignoring workspaces for specified package(s)
Multi-binding collection of libraries and templates for building Tauri apps
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

> package-two@1.9.0 build
> echo this command is not piped, it is run from scripts for pk2

this command is not piped, it is run from scripts for pk2
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs build in --dry-run mode 1`] = `
Object {
  "consoleDir": Array [
    Array [
      "==== data piped into commands ===",
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
        "pkg": "package-one",
      },
      Object {
        "depth": 5,
      },
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
        "pkg": "package-two",
      },
      Object {
        "depth": 5,
      },
    ],
  ],
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "==== commands ready to run ===",
    ],
    Array [
      Array [
        Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
      ],
    ],
    Array [
      "dryRun >> package-one [build]: npm run build",
    ],
    Array [
      "dryRun >> package-two [build]: npm run build",
    ],
    Array [
      "==== result ===",
    ],
    Array [
      Object {
        "package-one": Object {
          "command": "## \\\\[2.3.1]

- Added some cool things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "npm run build",
                "dryRunCommand": undefined,
                "pipe": true,
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "pkgFile": Object {
              "currentVersion": "2.3.1",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-one/package.json",
              },
              "name": "package-one",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-one",
                "scripts": Object {
                  "build": "npm info tauri@0.8.0 description",
                  "test": "npm info covector@0.1.0 license",
                },
                "version": "2.3.1",
              },
              "version": "2.3.1",
              "versionMajor": 2,
              "versionMinor": 3,
              "versionPatch": 1,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-one-v2.3.1",
          },
          "postcommand": false,
          "precommand": false,
        },
        "package-two": Object {
          "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "npm run build",
                "dryRunCommand": undefined,
                "pipe": true,
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "pkgFile": Object {
              "currentVersion": "1.9.0",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-two/package.json",
              },
              "name": "package-two",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-two",
                "scripts": Object {
                  "build": "echo this command is not piped, it is run from scripts for pk2",
                  "test": "echo this command is not piped, it is run from the test script",
                },
                "version": "1.9.0",
              },
              "version": "1.9.0",
              "versionMajor": 1,
              "versionMinor": 9,
              "versionPatch": 0,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-two-v1.9.0",
          },
          "postcommand": false,
          "precommand": false,
        },
      },
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "npm run build",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs publish for prod 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "package-one [publish]: echo publish",
    ],
    Array [
      "publish",
    ],
    Array [
      "package-two [publish]: echo publish",
    ],
    Array [
      "publish",
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
        "published": true,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
        "published": true,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs publish in --dry-run mode 1`] = `
Object {
  "consoleDir": Array [
    Array [
      "==== data piped into commands ===",
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
        "pkg": "package-one",
      },
      Object {
        "depth": 5,
      },
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
        "pkg": "package-two",
      },
      Object {
        "depth": 5,
      },
    ],
  ],
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "==== commands ready to run ===",
    ],
    Array [
      Array [
        Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
      ],
    ],
    Array [
      "dryRun >> package-one [publish]: echo publish",
    ],
    Array [
      "dryRun >> package-two [publish]: echo publish",
    ],
    Array [
      "==== result ===",
    ],
    Array [
      Object {
        "package-one": Object {
          "command": "## \\\\[2.3.1]

- Added some cool things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "echo publish",
                "dryRunCommand": undefined,
                "pipe": true,
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "pkgFile": Object {
              "currentVersion": "2.3.1",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-one/package.json",
              },
              "name": "package-one",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-one",
                "scripts": Object {
                  "build": "npm info tauri@0.8.0 description",
                  "test": "npm info covector@0.1.0 license",
                },
                "version": "2.3.1",
              },
              "version": "2.3.1",
              "versionMajor": 2,
              "versionMinor": 3,
              "versionPatch": 1,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-one-v2.3.1",
          },
          "postcommand": false,
          "precommand": false,
          "published": true,
        },
        "package-two": Object {
          "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "echo publish",
                "dryRunCommand": undefined,
                "pipe": true,
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "pkgFile": Object {
              "currentVersion": "1.9.0",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-two/package.json",
              },
              "name": "package-two",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-two",
                "scripts": Object {
                  "build": "echo this command is not piped, it is run from scripts for pk2",
                  "test": "echo this command is not piped, it is run from the test script",
                },
                "version": "1.9.0",
              },
              "version": "1.9.0",
              "versionMajor": 1,
              "versionMinor": 9,
              "versionPatch": 0,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-two-v1.9.0",
          },
          "postcommand": false,
          "precommand": false,
          "published": true,
        },
      },
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
        "published": true,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
        "published": true,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs test for prod 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "package-one [test]: npm run build",
    ],
    Array [
      "> package-one@2.3.1 build
> npm info tauri@0.8.0 description",
    ],
    Array [
      "Multi-binding collection of libraries and templates for building Tauri apps",
    ],
    Array [
      "package-one [test]: npm test",
    ],
    Array [
      "> package-one@2.3.1 test
> npm info covector@0.1.0 license",
    ],
    Array [
      "Apache-2.0",
    ],
    Array [
      "package-one [test]: echo boop",
    ],
    Array [
      "boop",
    ],
    Array [
      "package-two [test]: npm run build",
    ],
    Array [
      "> package-two@1.9.0 build
> echo this command is not piped, it is run from scripts for pk2",
    ],
    Array [
      "this command is not piped, it is run from scripts for pk2",
    ],
    Array [
      "package-two [test]: npm test",
    ],
    Array [
      "> package-two@1.9.0 test
> echo this command is not piped, it is run from the test script",
    ],
    Array [
      "this command is not piped, it is run from the test script",
    ],
    Array [
      "package-two [test]: echo boop",
    ],
    Array [
      "boop",
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

> package-one@2.3.1 build
> npm info tauri@0.8.0 description

npm warn Ignoring workspaces for specified package(s)
Multi-binding collection of libraries and templates for building Tauri apps
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

> package-two@1.9.0 build
> echo this command is not piped, it is run from scripts for pk2

this command is not piped, it is run from scripts for pk2
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs test in --dry-run mode 1`] = `
Object {
  "consoleDir": Array [
    Array [
      "==== data piped into commands ===",
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
        "pkg": "package-one",
      },
      Object {
        "depth": 5,
      },
    ],
    Array [
      Object {
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
        "pkg": "package-two",
      },
      Object {
        "depth": 5,
      },
    ],
  ],
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "==== commands ready to run ===",
    ],
    Array [
      Array [
        Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
      ],
    ],
    Array [
      "dryRun >> package-one [test]: npm run build",
    ],
    Array [
      "dryRun >> package-one [test]: npm test",
    ],
    Array [
      "package-one [test]: echo deboop",
    ],
    Array [
      "deboop",
    ],
    Array [
      "dryRun >> package-two [test]: npm run build",
    ],
    Array [
      "dryRun >> package-two [test]: npm test",
    ],
    Array [
      "package-two [test]: echo deboop",
    ],
    Array [
      "deboop",
    ],
    Array [
      "==== result ===",
    ],
    Array [
      Object {
        "package-one": Object {
          "command": "## \\\\[2.3.1]

- Added some cool things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "npm run build",
                "dryRunCommand": undefined,
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "pkgFile": Object {
              "currentVersion": "2.3.1",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-one/package.json",
              },
              "name": "package-one",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-one",
                "scripts": Object {
                  "build": "npm info tauri@0.8.0 description",
                  "test": "npm info covector@0.1.0 license",
                },
                "version": "2.3.1",
              },
              "version": "2.3.1",
              "versionMajor": 2,
              "versionMinor": 3,
              "versionPatch": 1,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-one-v2.3.1",
          },
          "postcommand": false,
          "precommand": false,
        },
        "package-two": Object {
          "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
          "pkg": Object {
            "command": Array [
              Object {
                "command": "npm run build",
                "dryRunCommand": undefined,
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "pkgFile": Object {
              "currentVersion": "1.9.0",
              "deps": Object {},
              "file": Object {
                "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
                "extname": ".json",
                "filename": "package",
                "path": "packages/package-two/package.json",
              },
              "name": "package-two",
              "pkg": Object {
                "description": "shrugs",
                "license": "MIT",
                "name": "package-two",
                "scripts": Object {
                  "build": "echo this command is not piped, it is run from scripts for pk2",
                  "test": "echo this command is not piped, it is run from the test script",
                },
                "version": "1.9.0",
              },
              "version": "1.9.0",
              "versionMajor": 1,
              "versionMinor": 9,
              "versionPatch": 0,
              "versionPrerelease": null,
            },
            "postcommand": null,
            "precommand": null,
            "releaseTag": "package-two-v1.9.0",
          },
          "postcommand": false,
          "precommand": false,
        },
      },
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "## \\\\[2.3.1]

- Added some cool things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "## \\\\[1.9.0]

- Added some even cooler things.

",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "npm run build",
              "dryRunCommand": undefined,
              "pipe": true,
            },
            Object {
              "command": "npm test",
              "dryRunCommand": false,
            },
            Object {
              "command": "echo boop",
              "dryRunCommand": "echo deboop",
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"description\\": \\"shrugs\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[2.3.1]

- Added some cool things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": "## \\\\[1.9.0]

- Added some even cooler things.
",
            "command": Array [
              Object {
                "command": "npm run build",
                "pipe": true,
              },
              Object {
                "command": "npm test",
                "dryRunCommand": false,
              },
              Object {
                "command": "echo boop",
                "dryRunCommand": "echo deboop",
              },
            ],
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "description": "shrugs",
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test for complex commands runs version for prod 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "applied": false,
        "command": false,
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "applied": false,
        "command": false,
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {},
  },
}
`;

exports[`integration test for complex commands runs version in --dry-run mode 1`] = `
Object {
  "consoleDir": Array [
    Array [
      "==== data piped into commands ===",
    ],
    Array [
      "==== result ===",
    ],
    Array [
      Object {
        "package-one": Object {
          "applied": false,
          "command": false,
          "postcommand": false,
          "precommand": false,
        },
        "package-two": Object {
          "applied": false,
          "command": false,
          "postcommand": false,
          "precommand": false,
        },
      },
    ],
  ],
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "==== commands ready to run ===",
    ],
    Array [
      Array [],
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "applied": false,
        "command": false,
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "applied": false,
        "command": false,
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {},
  },
}
`;

exports[`integration test to invoke sub commands runs publish-primary in prod mode 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "package-one [publish-primary]: echo publish",
    ],
    Array [
      "publish",
    ],
    Array [
      "package-two [publish-primary]: echo publish",
    ],
    Array [
      "publish",
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": false,
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": false,
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;

exports[`integration test to invoke sub commands runs publishSecondary in prod mode 1`] = `
Object {
  "consoleInfo": Array [],
  "consoleLog": Array [
    Array [
      "package-one [publishSecondary]: echo publish",
    ],
    Array [
      "publish",
    ],
    Array [
      "package-two [publishSecondary]: echo publish",
    ],
    Array [
      "publish",
    ],
  ],
  "covectorReturn": Object {
    "commandsRan": Object {
      "package-one": Object {
        "command": "publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-one",
          "pkg": "package-one",
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-one\\",
  \\"version\\": \\"2.3.1\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"npm info tauri@0.8.0 description\\",
    \\"test\\": \\"npm info covector@0.1.0 license\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-one/package.json",
            },
            "name": "package-one",
            "pkg": Object {
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-one-v2.3.1",
        },
        "postcommand": false,
        "precommand": false,
      },
      "package-two": Object {
        "command": "publish
",
        "pkg": Object {
          "command": Array [
            Object {
              "command": "echo publish",
              "dryRunCommand": undefined,
              "pipe": true,
            },
          ],
          "dependencies": undefined,
          "errorOnVersionRange": null,
          "manager": "javascript",
          "path": "./packages/package-two",
          "pkg": "package-two",
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "file": Object {
              "content": "{
  \\"name\\": \\"package-two\\",
  \\"version\\": \\"1.9.0\\",
  \\"license\\": \\"MIT\\",
  \\"scripts\\": {
    \\"build\\": \\"echo this command is not piped, it is run from scripts for pk2\\",
    \\"test\\": \\"echo this command is not piped, it is run from the test script\\"
  }
}
",
              "extname": ".json",
              "filename": "package",
              "path": "packages/package-two/package.json",
            },
            "name": "package-two",
            "pkg": Object {
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
            "versionPrerelease": null,
          },
          "postcommand": null,
          "precommand": null,
          "releaseTag": "package-two-v1.9.0",
        },
        "postcommand": false,
        "precommand": false,
      },
    },
    "pipeTemplate": Object {
      "package-one": Object {
        "name": "package-one",
        "pipe": Object {
          "pkg": Object {
            "changelog": false,
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-one",
            "pkg": "package-one",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "2.3.1",
            "deps": Object {},
            "name": "package-one",
            "pkg": Object {
              "license": "MIT",
              "name": "package-one",
              "scripts": Object {
                "build": "npm info tauri@0.8.0 description",
                "test": "npm info covector@0.1.0 license",
              },
              "version": "2.3.1",
            },
            "version": "2.3.1",
            "versionMajor": 2,
            "versionMinor": 3,
            "versionPatch": 1,
          },
        },
      },
      "package-two": Object {
        "name": "package-two",
        "pipe": Object {
          "pkg": Object {
            "changelog": false,
            "command": Object {
              "command": "echo publish",
              "pipe": true,
            },
            "dependencies": undefined,
            "errorOnVersionRange": null,
            "manager": "javascript",
            "path": "./packages/package-two",
            "pkg": "package-two",
            "postcommand": null,
            "precommand": null,
            "releaseTag": null,
            "tag": "",
          },
          "pkgFile": Object {
            "currentVersion": "1.9.0",
            "deps": Object {},
            "name": "package-two",
            "pkg": Object {
              "license": "MIT",
              "name": "package-two",
              "scripts": Object {
                "build": "echo this command is not piped, it is run from scripts for pk2",
                "test": "echo this command is not piped, it is run from the test script",
              },
              "version": "1.9.0",
            },
            "version": "1.9.0",
            "versionMajor": 1,
            "versionMinor": 9,
            "versionPatch": 0,
          },
        },
      },
    },
  },
}
`;
